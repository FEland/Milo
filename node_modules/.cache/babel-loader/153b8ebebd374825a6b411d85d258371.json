{"ast":null,"code":"import _slicedToArray from\"/Users/femac2/Desktop/milo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//TODO FIX UP FLAG STATE FOR PAUSING\nimport React,{useState}from'react';import Button from\"@material-ui/core/Button\";import PauseCircleFilled from'@material-ui/icons/PauseCircleFilled';import PlayCircleFilled from'@material-ui/icons/PlayCircleFilled';// import SpeedIcon from '@material-ui/icons/Speed';\nimport DoubleArrowIcon from'@material-ui/icons/DoubleArrow';import CachedIcon from'@material-ui/icons/Cached';import Slider from'@material-ui/core/Slider';function getRandomInt(min,max){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min))+min;}function createQuiz(items,num){var i;var songList=[];if(num>items.length){return;}for(i=0;i<num;i++){songList.push(items[getRandomInt(0,items.length-1)]);}return songList;}export default function QuizShapes({flashcards}){let audio=new Audio();// let fast = 1;\n// const speeds = [.5, 1, 1.5, 2, 2.5];\nconst _useState=useState(1),_useState2=_slicedToArray(_useState,2),flag=_useState2[0],setFlag=_useState2[1];const _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),trope=_useState4[0],setTrope=_useState4[1];const _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),speed=_useState6[0],setSpeed=_useState6[1];const handleSpeed=val=>{// setSpeed(speed => speed = val);\nsetSpeed(val);};let i=-1;let myflag=0;// var speed = 1;\nfunction getSpeed(){return speed;}// const [count, setCount] = useState(0);\n// const [yesQuiz, setQuizTrue] = useState(0);\nfunction playNext(){// if (!myflag) printc(\"JACKSA\");\n// var i = trope;\n++i;if(i<quiz.length){// audio.preload = \"auto\";\n// audio.volume = 0.3;\nconsole.log(\"nextSongSpeed\",getSpeed());audio.src=quiz[i].sound;audio.playbackRate=speed;audio.play();}else{setFlag(1);i=-1;}setTrope(i);}audio.addEventListener('ended',function(){if(!myflag){playNext();}else{audio.pause();}},false);let items=flashcards;const _useState7=useState(createQuiz(items,4)),_useState8=_slicedToArray(_useState7,2),quiz=_useState8[0],reloadQuiz=_useState8[1];const _React$useState=React.useState(10),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];const handleChange=(event,newValue)=>{setValue(newValue);reloadQuiz(createQuiz(items,newValue));};// playFromSong\nconst playFromSong=index=>{// audio.src = \"\";\ni=index;setTrope(i);playNext();};//   const song =  new Audio(flashcard.sound)\n// function printc(calledBy){\n//     console.log(calledBy, \"i= \", i, \"myflag= \", myflag);\n//     // console.log(calledBy, \"i= \", i, \"myflag= \", myflag, \" trope=\", trope, \"/\", quiz.length, \" flag=\", flag);\n// }\nfunction handlePlay(){myflag=0;setTrope(0);// printc(\"handlePlay b4 PlayNext\");\nplayNext();setFlag(0);// makeSongList(quiz);\n}function handlePause(){myflag=1;// audio.pause();\naudio.pause();audio.currentTime=0;audio=null;// printc(\"handlePause after setFlag\");\nsetFlag(1);i=0;setTrope(0);}// function killAudio(){\n//     audio.pause();\n//     audio = null;\n// }\nreturn/*#__PURE__*/React.createElement(\"quiz\",null,\"Quiz Yourself!\",/*#__PURE__*/React.createElement(\"h5\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"controls\"},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",endIcon:/*#__PURE__*/React.createElement(CachedIcon,{onClick:()=>{reloadQuiz(createQuiz(items,value));}})}),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/React.createElement(DoubleArrowIcon,{onChange:()=>{handleSpeed(2);}})},speed),/*#__PURE__*/React.createElement(Button,{size:\"small\",variant:\"contained\"},/*#__PURE__*/React.createElement(Slider,{value:value,onChange:handleChange,defaultValue:4,step:1,marks:true,min:1,max:8,valueLabelDisplay:\"auto\"})),flag?/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",endIcon:/*#__PURE__*/React.createElement(PlayCircleFilled,{onClick:()=>handlePlay()})}):/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",endIcon:/*#__PURE__*/React.createElement(PauseCircleFilled,{onClick:()=>handlePause()})}))),/*#__PURE__*/React.createElement(\"p\",null,quiz.map((songName,index)=>{return trope===index?/*#__PURE__*/React.createElement(\"img\",{src:songName.image,onClick:()=>playFromSong(index-1),alt:\"icon\",loading:\"lazy\",width:\"50\",height:\"50\",style:{'opacity':'.5'}}):/*#__PURE__*/React.createElement(\"img\",{src:songName.image,onClick:()=>playFromSong(index-1),alt:\"icon\",loading:\"lazy\",width:\"50\",height:\"50\",style:{'border':'0px solid black'}});})));}","map":{"version":3,"sources":["/Users/femac2/Desktop/milo/src/QuizShapes.js"],"names":["React","useState","Button","PauseCircleFilled","PlayCircleFilled","DoubleArrowIcon","CachedIcon","Slider","getRandomInt","min","max","Math","ceil","floor","random","createQuiz","items","num","i","songList","length","push","QuizShapes","flashcards","audio","Audio","flag","setFlag","trope","setTrope","speed","setSpeed","handleSpeed","val","myflag","getSpeed","playNext","quiz","console","log","src","sound","playbackRate","play","addEventListener","pause","reloadQuiz","value","setValue","handleChange","event","newValue","playFromSong","index","handlePlay","handlePause","currentTime","map","songName","image"],"mappings":"iJAAA;AACA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sCAA9B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qCAA7B,CAEA;AACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CAEA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEE,QAASC,CAAAA,YAAT,CAAsBC,GAAtB,CAA2BC,GAA3B,CAAgC,CAC9BD,GAAG,CAAGE,IAAI,CAACC,IAAL,CAAUH,GAAV,CAAN,CACAC,GAAG,CAAGC,IAAI,CAACE,KAAL,CAAWH,GAAX,CAAN,CACA,MAAOC,CAAAA,IAAI,CAACE,KAAL,CAAWF,IAAI,CAACG,MAAL,IAAiBJ,GAAG,CAAGD,GAAvB,CAAX,EAA0CA,GAAjD,CACD,CAED,QAASM,CAAAA,UAAT,CAAoBC,KAApB,CAA2BC,GAA3B,CAAgC,CAC9B,GAAIC,CAAAA,CAAJ,CAAO,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACP,GAAIF,GAAG,CAAGD,KAAK,CAACI,MAAhB,CAAwB,CACtB,OACD,CACD,IAAKF,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGD,GAAhB,CAAqBC,CAAC,EAAtB,CAAyB,CACvBC,QAAQ,CAACE,IAAT,CAAcL,KAAK,CAACR,YAAY,CAAC,CAAD,CAAIQ,KAAK,CAACI,MAAN,CAAa,CAAjB,CAAb,CAAnB,EACD,CACD,MAAOD,CAAAA,QAAP,CACD,CAGH,cAAe,SAASG,CAAAA,UAAT,CAAqB,CAAEC,UAAF,CAArB,CAAsC,CAEjD,GAAIC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,KAAJ,EAAZ,CACA;AACA;AAJiD,gBAKzBxB,QAAQ,CAAC,CAAD,CALiB,wCAK1CyB,IAL0C,eAKpCC,OALoC,gCAMvB1B,QAAQ,CAAC,CAAD,CANe,yCAM1C2B,KAN0C,eAMnCC,QANmC,gCAQvB5B,QAAQ,CAAC,CAAD,CARe,yCAQ1C6B,KAR0C,eAQnCC,QARmC,eAUjD,KAAMC,CAAAA,WAAW,CAAIC,GAAD,EAAS,CACzB;AACAF,QAAQ,CAACE,GAAD,CAAR,CACD,CAHH,CAMA,GAAIf,CAAAA,CAAC,CAAG,CAAC,CAAT,CACA,GAAIgB,CAAAA,MAAM,CAAG,CAAb,CACA;AAEA,QAASC,CAAAA,QAAT,EAAmB,CACf,MAAOL,CAAAA,KAAP,CACH,CAED;AACA;AAIA,QAASM,CAAAA,QAAT,EAAoB,CAChB;AACA;AACA,EAAElB,CAAF,CACA,GAAIA,CAAC,CAAGmB,IAAI,CAACjB,MAAb,CAAoB,CAChB;AACA;AACAkB,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BJ,QAAQ,EAArC,EACAX,KAAK,CAACgB,GAAN,CAAYH,IAAI,CAACnB,CAAD,CAAJ,CAAQuB,KAApB,CACAjB,KAAK,CAACkB,YAAN,CAAqBZ,KAArB,CACAN,KAAK,CAACmB,IAAN,GACH,CAPD,IAQI,CACAhB,OAAO,CAAC,CAAD,CAAP,CACAT,CAAC,CAAG,CAAC,CAAL,CACH,CACDW,QAAQ,CAACX,CAAD,CAAR,CAGH,CACDM,KAAK,CAACoB,gBAAN,CAAuB,OAAvB,CAAgC,UAAY,CACxC,GAAI,CAACV,MAAL,CAAa,CACTE,QAAQ,GACP,CAFL,IAGK,CACDZ,KAAK,CAACqB,KAAN,GACH,CACJ,CAPD,CAOG,KAPH,EASA,GAAI7B,CAAAA,KAAK,CAAGO,UAAZ,CA1DiD,iBA4DtBtB,QAAQ,CAACc,UAAU,CAACC,KAAD,CAAQ,CAAR,CAAX,CA5Dc,yCA4D1CqB,IA5D0C,eA4DpCS,UA5DoC,qCA6DvB9C,KAAK,CAACC,QAAN,CAAe,EAAf,CA7DuB,oDA6D1C8C,KA7D0C,qBA6DnCC,QA7DmC,qBA+DjD,KAAMC,CAAAA,YAAY,CAAG,CAACC,KAAD,CAAQC,QAAR,GAAqB,CACtCH,QAAQ,CAACG,QAAD,CAAR,CACAL,UAAU,CAAC/B,UAAU,CAACC,KAAD,CAAQmC,QAAR,CAAX,CAAV,CACH,CAHD,CAKA;AACA,KAAMC,CAAAA,YAAY,CAAGC,KAAK,EAAI,CAC1B;AACAnC,CAAC,CAAGmC,KAAJ,CACAxB,QAAQ,CAACX,CAAD,CAAR,CACAkB,QAAQ,GACX,CALD,CAMA;AAEA;AACA;AACA;AACA;AAEA,QAASkB,CAAAA,UAAT,EAAqB,CACjBpB,MAAM,CAAG,CAAT,CACAL,QAAQ,CAAC,CAAD,CAAR,CACA;AACAO,QAAQ,GACRT,OAAO,CAAC,CAAD,CAAP,CAEA;AACH,CAED,QAAS4B,CAAAA,WAAT,EAAsB,CAClBrB,MAAM,CAAG,CAAT,CACA;AACAV,KAAK,CAACqB,KAAN,GACArB,KAAK,CAACgC,WAAN,CAAoB,CAApB,CACAhC,KAAK,CAAG,IAAR,CAEA;AACAG,OAAO,CAAC,CAAD,CAAP,CACAT,CAAC,CAAG,CAAJ,CACAW,QAAQ,CAAC,CAAD,CAAR,CAEH,CACD;AACA;AACA;AACA;AAGA,mBAEK,8DACG,2CAEA,2BAAK,SAAS,CAAC,UAAf,eAGI,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CACI,OAAO,cAAE,oBAAC,UAAD,EAAa,OAAO,CAAE,IAAO,CAACiB,UAAU,CAAC/B,UAAU,CAACC,KAAD,CAAQ+B,KAAR,CAAX,CAAV,CAAsC,CAApE,EADb,EAHJ,cAOI,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CACI,SAAS,cAAI,oBAAC,eAAD,EAAiB,QAAQ,CAAE,IAAM,CAAEf,WAAW,CAAC,CAAD,CAAX,CAAiB,CAApD,EADjB,EAESF,KAFT,CAPJ,cAaI,oBAAC,MAAD,EAAQ,IAAI,CAAC,OAAb,CAAqB,OAAO,CAAC,WAA7B,eACI,oBAAC,MAAD,EAAQ,KAAK,CAAEiB,KAAf,CAAsB,QAAQ,CAAEE,YAAhC,CAA8C,YAAY,CAAE,CAA5D,CACQ,IAAI,CAAE,CADd,CACiB,KAAK,KADtB,CACuB,GAAG,CAAE,CAD5B,CAC+B,GAAG,CAAE,CADpC,CACuC,iBAAiB,CAAC,MADzD,EADJ,CAbJ,CAmBKvB,IAAI,cAAI,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CACL,OAAO,cAAE,oBAAC,gBAAD,EAAkB,OAAO,CAAE,IAAM4B,UAAU,EAA3C,EADJ,EAAJ,cAGD,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CACI,OAAO,cAAE,oBAAC,iBAAD,EAAmB,OAAO,CAAE,IAAMC,WAAW,EAA7C,EADb,EAtBR,CAFA,CADH,cAiCG,6BACHlB,IAAI,CAACoB,GAAL,CAAS,CAACC,QAAD,CAAWL,KAAX,GAAoB,CAAC,MAC1BzB,CAAAA,KAAK,GAAKyB,KAAX,cACA,2BAAK,GAAG,CAAEK,QAAQ,CAACC,KAAnB,CAA0B,OAAO,CAAE,IAAMP,YAAY,CAACC,KAAK,CAAC,CAAP,CAArD,CAAgE,GAAG,CAAC,MAApE,CAA2E,OAAO,CAAC,MAAnF,CAA0F,KAAK,CAAC,IAAhG,CAAqG,MAAM,CAAC,IAA5G,CAAiH,KAAK,CAAG,CAAC,UAAY,IAAb,CAAzH,EADA,cAEC,2BAAK,GAAG,CAAEK,QAAQ,CAACC,KAAnB,CAA0B,OAAO,CAAE,IAAMP,YAAY,CAACC,KAAK,CAAC,CAAP,CAArD,CAAgE,GAAG,CAAC,MAApE,CAA2E,OAAO,CAAC,MAAnF,CAA0F,KAAK,CAAC,IAAhG,CAAqG,MAAM,CAAC,IAA5G,CAAiH,KAAK,CAAI,CAAC,SAAW,iBAAZ,CAA1H,EAH0B,CAK1B,CALJ,CADG,CAjCH,CAFL,CA+CH","sourcesContent":["//TODO FIX UP FLAG STATE FOR PAUSING\nimport React, {useState} from 'react'\nimport Button from \"@material-ui/core/Button\";\nimport PauseCircleFilled from '@material-ui/icons/PauseCircleFilled';\nimport PlayCircleFilled from '@material-ui/icons/PlayCircleFilled';\n\n// import SpeedIcon from '@material-ui/icons/Speed';\nimport DoubleArrowIcon from '@material-ui/icons/DoubleArrow';\n\nimport CachedIcon from '@material-ui/icons/Cached';\nimport Slider from '@material-ui/core/Slider';\n\n  function getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min; \n  }\n\n  function createQuiz(items, num) {\n    var i; var songList = [];\n    if (num > items.length) {\n      return;\n    }\n    for (i = 0; i < num; i++){\n      songList.push(items[getRandomInt(0, items.length-1)]);\n    }\n    return songList;\n  }\n\n  \nexport default function QuizShapes( { flashcards } ) {\n\n    let audio = new Audio();\n    // let fast = 1;\n    // const speeds = [.5, 1, 1.5, 2, 2.5];\n    const [flag, setFlag] = useState(1);\n    const [trope, setTrope] = useState(0);\n\n    const [speed, setSpeed] = useState(1);\n\n    const handleSpeed = (val) => {\n        // setSpeed(speed => speed = val);\n        setSpeed(val);\n      }\n  \n      \n    let i = -1;\n    let myflag = 0;\n    // var speed = 1;\n\n    function getSpeed(){\n        return speed;\n    }\n\n    // const [count, setCount] = useState(0);\n    // const [yesQuiz, setQuizTrue] = useState(0);\n\n\n\n    function playNext (){\n        // if (!myflag) printc(\"JACKSA\");\n        // var i = trope;\n        ++i;\n        if (i < quiz.length){\n            // audio.preload = \"auto\";\n            // audio.volume = 0.3;\n            console.log(\"nextSongSpeed\", getSpeed());\n            audio.src = quiz[i].sound;\n            audio.playbackRate = speed;\n            audio.play();\n        }\n        else{ \n            setFlag(1);\n            i = -1;\n        }\n        setTrope(i);\n\n\n    }\n    audio.addEventListener('ended', function () {\n        if (!myflag) {\n            playNext();\n            }\n        else {\n            audio.pause();\n        }\n    }, false);\n\n    let items = flashcards;\n\n    const [quiz, reloadQuiz] = useState(createQuiz(items, 4));\n    const [value, setValue] = React.useState(10);\n\n    const handleChange = (event, newValue) => {\n        setValue(newValue);\n        reloadQuiz(createQuiz(items, newValue))\n    };\n\n    // playFromSong\n    const playFromSong = index => {\n        // audio.src = \"\";\n        i = index;\n        setTrope(i);\n        playNext();\n    };\n    //   const song =  new Audio(flashcard.sound)\n\n    // function printc(calledBy){\n    //     console.log(calledBy, \"i= \", i, \"myflag= \", myflag);\n    //     // console.log(calledBy, \"i= \", i, \"myflag= \", myflag, \" trope=\", trope, \"/\", quiz.length, \" flag=\", flag);\n    // }\n\n    function handlePlay(){\n        myflag = 0;\n        setTrope(0);\n        // printc(\"handlePlay b4 PlayNext\");\n        playNext();\n        setFlag(0); \n\n        // makeSongList(quiz);\n    }\n\n    function handlePause(){\n        myflag = 1;\n        // audio.pause();\n        audio.pause()\n        audio.currentTime = 0\n        audio = null;\n\n        // printc(\"handlePause after setFlag\");\n        setFlag(1);\n        i = 0;\n        setTrope(0);\n\n    }\n    // function killAudio(){\n    //     audio.pause();\n    //     audio = null;\n    // }\n\n\n    return (\n        \n         <quiz>Quiz Yourself!\n            <h5> \n\n            <div className=\"controls\" >\n            \n\n                <Button variant=\"contained\" color=\"primary\"\n                    endIcon={<CachedIcon  onClick={() =>  {reloadQuiz(createQuiz(items, value));}}/>}>\n                </Button> \n\n                <Button variant=\"contained\" color=\"primary\"\n                    startIcon = {<DoubleArrowIcon onChange={() => { handleSpeed(2) ;}} />}>\n                        {speed}\n                </Button> \n\n\n                <Button size=\"small\" variant=\"contained\"> \n                    <Slider value={value} onChange={handleChange} defaultValue={4}\n                            step={1} marks min={1} max={8} valueLabelDisplay=\"auto\" />\n                </Button>\n\n                {/* only shows play or pause based off flag state.. flag doesn't work must be fixed! */}\n                {flag ?  <Button variant=\"contained\" color=\"primary\" \n                    endIcon={<PlayCircleFilled onClick={() => handlePlay()}/>}>\n                    </Button> :\n                    <Button variant=\"contained\" color=\"primary\" \n                        endIcon={<PauseCircleFilled onClick={() => handlePause()}/>}>\n                    </Button>\n                }\n            </div>\n\n            </h5>\n\n            <p>\n        {quiz.map((songName, index)=> {return ( \n            (trope === index) ?\n            <img src={songName.image} onClick={() => playFromSong(index-1)} alt=\"icon\" loading=\"lazy\" width=\"50\" height=\"50\" style={ {'opacity' : '.5'} }/>\n            :<img src={songName.image} onClick={() => playFromSong(index-1)} alt=\"icon\" loading=\"lazy\" width=\"50\" height=\"50\" style={  {'border' : '0px solid black'}  }/>\n\n           )})}\n        </p>\n\n           </quiz>\n\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}